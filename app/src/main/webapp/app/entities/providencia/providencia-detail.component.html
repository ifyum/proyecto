<div class="row justify-content-center">
    <div class="container">
        <div class="row">
            <div class="col-12"></div>
            <div class="col-12">
                <div class="">
                    <div class="container">
                        <jhi-alert></jhi-alert>
                        <div *ngIf="providencia">
                            <div class="row">
                                <div class="col-md-8 d-flex justify-content-center">
                                    <h2>
                                        {{providencia.etapa.toString().split('_').join(' ')}}
                                        <span jhiTranslate="pdisciplinarioApp.providencia.detail.title"></span>
                                        {{ providencia.id}}
                                    </h2>
                                </div>
                                <!--BOTONES DE ACCIONES DE LA VISTA-->
                                <div class="col-md-4">
                                    <div class="d-flex justify-content-center">
                                        <p *ngIf="providencia.numeroReferencia == null && providencia.requisito == 'UPD_REDACTA_RESOLUCION_Y_MEMO';  else viewBoton">
                                            debe asignar un numero de referencia
                                        </p>
                                        <p *ngIf="actionsPermitted.cambiadoNumeroDGD ">
                                            debe asignar un numero DGD
                                        </p>
                                        <p *ngIf="actionsPermitted.cambiadoNumeroDGDP ">
                                            debe asignar un numero DGDP
                                        </p>
                                            <ng-template #viewBoton>
                                            <button type="button"
                                                    *ngIf="actionsPermitted.reply "
                                                    [disabled]="disableResponder"
                                                    class="btn btn-danger mr-2ha"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/responder'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge">
                                                <fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                <span *ngIf="isResponder"> Continuar</span>
                                                <span *ngIf="!isResponder"> Aceptar</span>
                                            </button>
                                            </ng-template>
                                        <button type="button"
                                                *ngIf="actionsPermitted.aceptar
                                                && providencia.requisito == 'FISCAL_NOTIFICADO'

                                                "
                                                class="btn btn-success mr-2"
                                                [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/fiscalAcepta'} }]"
                                                id="jhi-aceptar-providencia"
                                        >
                                            <fa-icon [icon]="'check-circle'"></fa-icon>&nbsp;
                                            <span> Aceptar</span>
                                        </button>

                                        <button type="button"
                                                *ngIf="actionsPermitted.rechazar
                                                && providencia.requisito == 'FISCAL_NOTIFICADO'                                               "
                                                class="btn btn-danger mr-2"
                                                [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/fiscalRechaza'} }]"
                                                id="jhi-rechazar-providencia"
                                        >
                                            <fa-icon [icon]="'minus-circle'"></fa-icon>&nbsp;
                                            <span *ngIf="isDevolver"> Devolver</span>
                                            <span *ngIf="!isDevolver"> Rechazar</span>
                                        </button>
                                        <div class="dropdown" ngbDropdown>
                                            <button class="btn btn-secondary dropdown-toggle" type="button"
                                                    id="dropdownMenuButton" data-toggle="dropdown"
                                                    aria-haspopup="true" aria-expanded="false" ngbDropdownToggle>
                                                Más opciones
                                            </button>
                                            <div class="dropdown-menu" ngbDropdownMenu>
                                                <a class="dropdown-item" routerLink="/dashboard" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
                                                    <fa-icon icon="plus" fixedWidth="true"></fa-icon>
                                                    <span>Imprimir</span>
                                                </a>
                                                <a class="dropdown-item" >
                                                    <fa-icon icon="plus" fixedWidth="true"></fa-icon>
                                                    <span>Exportar a excel</span>
                                                </a>
                                                <a class="dropdown-item" (click)="exportAsXLSX()">
                                                    <fa-icon icon="plus" fixedWidth="true"></fa-icon>
                                                    <span>Exportar todo a excel</span>
                                                </a>
                                                <a class="dropdown-item"
                                                   *ngIf="actionsPermitted.relacionarProvidencia"
                                                   [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/relacionar'} }]"
                                                   replaceUrl="true"
                                                   queryParamsHandling="merge"
                                                ><fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;<span> Relacionar Providencia</span>
                                                </a>
                                                <a class="dropdown-item"
                                                   *ngIf="actionsPermitted.asignarFiscal"
                                                   [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/asignarFiscal'} }]"
                                                   replaceUrl="true"
                                                   queryParamsHandling="merge"
                                                ><fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span *ngIf="providencia.nombreFiscalAsignado == null"> Asignar Fiscal</span>
                                                    <span *ngIf="providencia.nombreFiscalAsignado !== null"> Cambiar Fiscal Asignado</span>
                                                </a>

<!--                                                <a class="dropdown-item" *ngIf="actionsPermitted.numerarReferencia && providencia.providenciaMadreId == null"-->
                                                <a class="dropdown-item" *ngIf="actionsPermitted.numerarReferencia"
                                                   [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/numerarReferencia'} }]"
                                                   replaceUrl="true"
                                                   queryParamsHandling="merge">
<!--                                                <fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;-->
<!--                                                    <span *ngIf="providencia.numeroReferencia == null && providencia.requisito == 'RESOLUCION_QUE_INSTRUYE_SUMARIO_MEMO_CONDUCTOR'"></span>-->
                                                    <span *ngIf="providencia.numeroReferencia == null"><fa-icon [icon]="'pencil-alt'"></fa-icon> Asignar Número de Referencia</span>
                                                    <span *ngIf="providencia.numeroReferencia !== null"><fa-icon [icon]="'pencil-alt'"></fa-icon> Editar Número de Referencia</span>
                                                </a>
                                                <a class="dropdown-item"
                                                   *ngIf="actionsPermitted.asignarAUpd"
                                                   [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/asignarAUpd'} }]"
                                                   replaceUrl="true"
                                                   queryParamsHandling="merge"
                                                ><fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span *ngIf="providencia.nombreFiscalAsignado == null"> Asignar a Udp</span>

                                                </a> <a class="dropdown-item"
                                                   *ngIf="actionsPermitted.enviaVistaFiscal"
                                                   [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/enviaVistaFiscal'} }]"
                                                   replaceUrl="true"
                                                   queryParamsHandling="merge"
                                                ><fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span *ngIf="providencia.nombreFiscalAsignado == null">  Envia Vista Fiscal</span>

                                                </a>

                                                <a class="dropdown-item" *ngIf="actionsPermitted.asignarNumeroIngreso "
                                                   [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/asignarNumeroIngreso'} }]"
                                                   replaceUrl="true"
                                                   queryParamsHandling="merge"
                                                ><fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span > Asignar Número de Ingreso</span>

                                                </a>
                                                <a class="dropdown-item" *ngIf="actionsPermitted.asignarNumeroDespacho"
                                                   [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/asignarNumeroDespacho'} }]"
                                                   replaceUrl="true"
                                                   queryParamsHandling="merge"
                                                ><fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span > Asignar Número de Despacho</span>

                                                </a>
                                                <a class="dropdown-item" *ngIf="actionsPermitted.folio && providencia.folio === null"
                                                   [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/folio'} }]"
                                                   replaceUrl="true"
                                                   queryParamsHandling="merge"
                                                ><fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span >Dar Nº de folio</span>
                                                </a>
                                                <a class="dropdown-item" *ngIf="actionsPermitted.asignarNumeroDGD "
                                                   [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/asignarNumeroDGD'} }]"
                                                   replaceUrl="true"
                                                   queryParamsHandling="merge"
                                                ><fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span> Asignar Número DGD</span>
                                                </a>
                                                <a class="dropdown-item" *ngIf="actionsPermitted.asignarNumeroProvidencia "
                                                   [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/asignarNumeroProvidencia'} }]"
                                                   replaceUrl="true"
                                                   queryParamsHandling="merge"
                                                ><fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span> Asignar Número Providencia</span>
                                                </a>
                                                <a class="dropdown-item" *ngIf="actionsPermitted.asignarNumeroDGDP"
                                                   [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/asignarNumeroDGDP'} }]"
                                                   replaceUrl="true"
                                                   queryParamsHandling="merge"
                                                ><fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span> Asignar Número DGDP</span>
                                                </a>
                                                <a class="dropdown-item" *ngIf="actionsPermitted.emiteProvidencia"
                                                   [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/emiteProvidencia '} }]"
                                                   replaceUrl="true"
                                                   queryParamsHandling="merge"
                                                ><fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span> Emite providencia</span>
                                                </a>

                                                <a class="dropdown-item" *ngIf="providencia.requisito.toString() !== 'REMITE_EXPEDIENTE_VISTA_FISCAL'"
                                                   [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/tipoSolicitud'} }]"
                                                   replaceUrl="true"
                                                   queryParamsHandling="merge"
                                                ><fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span *ngIf="providencia.tipo == null"> Asignar Tipo De Solicitud</span>
                                                    <span *ngIf="providencia.tipo !== null"> Cambiar Tipo De Solicitud</span>
                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.prorroga"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/prorroga'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #dc0000;" [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span *ngIf="isProrroga"> Prorroga Uno</span>
                                                    <span *ngIf="!isProrroga"> Prorroga Dos</span>
                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.tomaRazon"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/tomaRazon'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #dc0000;" [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span >Toma de Razón</span>

                                                </a>     <a
                                                class="dropdown-item" *ngIf="actionsPermitted.registra"
                                                [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/registra'} }]"
                                                replaceUrl="true"
                                                queryParamsHandling="merge"
                                            ><fa-icon style="color: #dc0000;" [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                <span >Registra</span>

                                            </a>
                                                <a
                                                class="dropdown-item" *ngIf="actionsPermitted.representa"
                                                [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/representa'} }]"
                                                replaceUrl="true"
                                                queryParamsHandling="merge"
                                            ><fa-icon style="color: #dc0000;" [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                <span >Representa</span>

                                            </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.alcance"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/alcance'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #dc0000;" [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span > alcance</span>

                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.alcanceConResolucion"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/realizoResolucion'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #dc0000;" [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span > realizo Resolucion</span>

                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.alcanceSinResolucion"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/sinResolucion'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #dc0000;" [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span > sin Resolucion</span>

                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.notificarDGDP"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/notificarDGDP'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #dc0000;" [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span >Notificar DGDP</span>

                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.suspension"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/suspension'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #dc0000;" [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span >Suspension</span>

                                                </a>

                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.multa"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/multa'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #dc0000;" [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span >Multa</span>

                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.sensura"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/censura'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #dc0000;" [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span >Sensura</span>

                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.notificaDenunciante"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/notificaDenunciante'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #dc0000;" [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span >Notificar Denunciante</span>

                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.destitucion"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/destitucion'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #dc0000;" [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span >Destitucion</span>

                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.notificaRemuneracion"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/notificaRemuneracion'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #dc0000;" [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span >Notificar Remuneracion</span>

                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.resolucion"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/resolucion'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #dc0000;" [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span > Resolucion</span>

                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.fiscalNotificaCierre"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/notificaCierre'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #25a02a;" [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span *ngIf="isNotificaCierre">Cerrar Investigacion</span>
                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.apela  "
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/apela'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #25a02a;" [icon]="'check-circle'"></fa-icon>&nbsp;
                                                    <span> Si Apela </span>

                                                </a>

                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.noApela "

                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/noApela'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #dc0000;" [icon]="'ban'"></fa-icon>&nbsp;
                                                    <span>No Apela</span>

                                                </a>
                                                <a class="dropdown-item"
                                                   *ngIf="actionsPermitted.notificaResolucion"
                                                   [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/notificaResolucion'} }]"
                                                   replaceUrl="true"
                                                   queryParamsHandling="merge"
                                                ><fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;<span> Notificar resolucion</span>
                                                </a>
                                                <a class="dropdown-item"
                                                   *ngIf="actionsPermitted.acoge"
                                                   [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/acoge'} }]"
                                                   replaceUrl="true"
                                                   queryParamsHandling="merge"
                                                ><fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;<span>Acoger</span>
                                                </a>
                                                <a class="dropdown-item"
                                                   *ngIf="actionsPermitted.acogeParcial"
                                                   [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/acogeParcial'} }]"
                                                   replaceUrl="true"
                                                   queryParamsHandling="merge"
                                                ><fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;<span>Acoge Parcial</span>
                                                </a>
                                                <a class="dropdown-item"
                                                   *ngIf="actionsPermitted.notificaDgdp"
                                                   [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/notificaDgdp'} }]"
                                                   replaceUrl="true"
                                                   queryParamsHandling="merge"
                                                ><fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;<span>notifica Dgdp</span>
                                                </a>
                                                <a class="dropdown-item"
                                                   *ngIf="actionsPermitted.notificaDenunciado"
                                                   [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/notificaDenunciado'} }]"
                                                   replaceUrl="true"
                                                   queryParamsHandling="merge"
                                                ><fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;<span>notifica Denunciado</span>
                                                </a>
                                                <a class="dropdown-item"
                                                   *ngIf="actionsPermitted.rechaza"
                                                   [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/rechaza'} }]"
                                                   replaceUrl="true"
                                                   queryParamsHandling="merge"
                                                ><fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;<span>Rechazar</span>
                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.inculpadoEnviaMemo"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/inculpadoEnviaMemo'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #25a02a;" [icon]="'check-circle'"></fa-icon>&nbsp;
                                                    <span > Realizó descargo </span>
<!--                                                    <span > Inculpado Envia Memo </span>-->


                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.inculpadoNoEnviaMemo"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/inculpadoNoEnviaMemo'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #F51009;" [icon]="'check-circle'"></fa-icon>&nbsp;
                                                    <span> No Realizó Descargo </span>
<!--                                                    <span> Inculpado No Envia Memo </span>-->

                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf=" (actionsPermitted.notificaDemandado && providencia.folio !== null )
                                                     || (actionsPermitted.notificaDemandado && providencia.requisito == 'NOTIFICAR_INCULPADO') ||
                                                        (actionsPermitted.notificaDemandado && providencia.requisito == 'REALIZAR_NOTIFICACIONES')"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/updNotificaInculpado'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #25a02a;" [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span>Notificar Inculpado </span>

                                                </a>

                                                <a
                                                    class="dropdown-item" *ngIf=" actionsPermitted.memoConductor"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/memoConductor'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #25a02a;" [icon]="'check-circle'"></fa-icon>&nbsp;
                                                    <span>Realizar Memo Conductor</span>

                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf=" actionsPermitted.examenLegalidad"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/examenLegalidad'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #25a02a;" [icon]="'check-circle'"></fa-icon>&nbsp;
                                                    <span>Examen de Legalidad</span>

                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.terminoProbatorio && providencia.requisito.toString() !== 'INCULPADO_NO_ENVIA_MEMO'"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/terminoProbatorio'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #F51009;" [icon]="'check-circle'"></fa-icon>&nbsp;
                                                    <span >Termino de Probatorio</span>
                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.siDeAcuerdo"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/siDeAcuerdo'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #25a02a;" [icon]="'check-circle'"></fa-icon>&nbsp;
                                                    <span >Si de Acuerdo</span>
                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.noReabro"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/noReabro'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #FF5733;" [icon]="'check-circle'"></fa-icon>&nbsp;
                                                    <span >No Reabre</span>
                                                </a>   <a
                                                class="dropdown-item" *ngIf="actionsPermitted.noPropone"
                                                [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/noPropone'} }]"
                                                replaceUrl="true"
                                                queryParamsHandling="merge"
                                            ><fa-icon style="color: #E1E934;" [icon]="'check-circle'"></fa-icon>&nbsp;
                                                <span >No Propone</span>
                                            </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.formularCargos && (providencia.requisito.toString() !== 'INCULPADO_ENVIA_MEMO' || providencia.requisito.toString() !== 'TERMINO_PROBATORIO') && providencia.requisito.toString() !== 'INCULPADO_NO_ENVIA_MEMO'"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/formulaCargos'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #25a02a;" [icon]="'check-circle'"></fa-icon>&nbsp;
                                                    <span> Fiscal Formula Cargos</span>

                                                </a>
                                                <a class="dropdown-item"
                                                   *ngIf="actionsPermitted.asignarAbogado"
                                                   [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/asignarAbogado'} }]"
                                                   replaceUrl="true"
                                                   queryParamsHandling="merge"
                                                ><fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span > Asignar Abogado</span>

                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.remiteExpediente"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/remiteExpediente'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #25a02a;" [icon]="'check-circle'"></fa-icon>&nbsp;
                                                    <span>Fiscal Remite Expediente</span>

                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.sinDenunciante"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/sinDenunciante'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #25a02a;" [icon]="'check-circle'"></fa-icon>&nbsp;
                                                    <span>Sin Denunciante</span>

                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.enviarInforme"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/enviarInforme'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon style="color: #25a02a;" [icon]="'check-circle'"></fa-icon>&nbsp;
                                                    <span>Sin Denunciante</span>

                                                </a>
                                                <a
                                                    class="dropdown-item" *ngIf="actionsPermitted.goBackwards"
                                                    [routerLink]="['/', { outlets: { popup: 'providencia/'+ providencia.id + '/devolver'} }]"
                                                    replaceUrl="true"
                                                    queryParamsHandling="merge"
                                                ><fa-icon [icon]="'pencil-alt'"></fa-icon>&nbsp;
                                                    <span> Devolver</span>
                                                </a>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <hr>
                            <jhi-alert-error></jhi-alert-error>
                            <!--DETALLE DE LOS DETALLES DE PROVIDENCIA-->
                        <div style="box-shadow: -11px 10px 5px rgba(12, 12, 12, 0.09);border: 1px #eeeeee solid;border-radius: 4px;background-color: #f9f9f9; padding: 20px;">
                            <div class="col-sm-12">
                            <div class="row">
                                <div class="col-sm-6" >
                                    <div>
                                        <dl class="dl-horizontal jh-entity-details">
                                            <h5>Datos Del Solicitante</h5>
                                            <dt>
                                                <span jhiTranslate="pdisciplinarioApp.providencia.rutSolicitante">Rut</span>
                                            </dt>
                                            <dd>
                                                <span>{{providencia.runSolicitante  | rut}}</span>
                                            </dd>
                                            <dt>
                                                <span *ngIf="!providencia.entidadSolicitante" jhiTranslate="pdisciplinarioApp.providencia.nombreSolicitante">Nombre</span>
                                            </dt>
                                            <dd *ngIf="providencia.nombreSolicitante && !providencia.entidadSolicitante">
                                                <span >{{providencia.nombreSolicitante}}</span>
                                            </dd>
                                            <dd *ngIf="!providencia.nombreSolicitante && !providencia.entidadSolicitante">
                                                <span style="color:red">NO INGRESADO</span>
                                            </dd>
                                            <dt  *ngIf="providencia.entidadSolicitante">
                                                <span jhiTranslate="pdisciplinarioApp.providencia.entidadSolicitante">Entidad </span>
                                            </dt>
                                            <dd *ngIf="providencia.entidadSolicitante">
                                                <span>{{providencia.entidadSolicitante.nombre}}</span>
                                            </dd>
                                           <h5>Datos Del Demandado</h5>
                                            <dt>
                                                <span jhiTranslate="pdisciplinarioApp.providencia.rutImplicado">Rut</span>
                                            </dt>
                                            <dd>
                                                <span>{{providencia.runImplicado | rut}}</span>
                                            </dd>
                                            <dt>
                                                <span *ngIf="!providencia.entidadImplicada && !providencia.entidadImplicada" jhiTranslate="pdisciplinarioApp.providencia.nombreImplicado">Nombre</span>
                                            </dt>
                                            <dd *ngIf="providencia.nombreImplicado">
                                                <span >{{providencia.nombreImplicado}}</span>
                                            </dd>
                                            <dd *ngIf="!providencia.nombreImplicado && !providencia.entidadImplicada">
                                                <span style="color:red">NO INGRESADO</span>
                                            </dd>
                                            <dt *ngIf="providencia.entidadImplicada">
                                                <span jhiTranslate="pdisciplinarioApp.providencia.entidadImplicada">Entidad</span>
                                            </dt>
                                            <dd *ngIf="providencia.entidadImplicada">
                                                <span>{{providencia.entidadImplicada.nombre}}</span>
                                            </dd>
                                        </dl>
                                    </div>
                                </div>
                                        <div class="col-sm-6">
                                            <dl class="dl-horizontal jh-entity-details">
                                                <h5>Datos De La Providencia</h5>
                                                <dt>
                                                    <span jhiTranslate="pdisciplinarioApp.providencia.fechaSolicitud">Fecha Providencia</span>
                                                </dt>
                                                <dd>
                                                    <span>{{providencia.fechaSolicitud | date:'mediumDate'}}</span>
                                                </dd>
                                                <dt>
                                                    <span>Fecha Creacion</span>
                                                </dt>
                                                <dd >
                                                    <span>{{providencia.fechaCreacion  | date:'mediumDate'}}</span>
                                                </dd>
                                                <dt>
                                                    <span jhiTranslate="pdisciplinarioApp.providencia.numeroProvidencia">N° Providencia </span>
                                                </dt>
                                                <dd *ngIf="providencia.numeroProvidencia">
                                                    <span>{{providencia.numeroProvidencia}}</span>
                                                </dd>
                                                <dd *ngIf="!providencia.numeroProvidencia">
                                                    <span style="color:red">DEBE ENUMERAR</span>
                                                </dd>
                                                <dt >
                                                    <span jhiTranslate="pdisciplinarioApp.providencia.numeroReferencia">N° Referencia </span>
                                                </dt>
                                                <dd *ngIf="providencia.numeroReferencia">
                                                    <span>{{providencia.numeroReferencia}}</span>
                                                </dd>
                                                <dd *ngIf="!providencia.numeroReferencia">
                                                    <span style="color:red">DEBE ENUMERAR</span>
                                                </dd>
                                                <dt>
                                                    <span jhiTranslate="pdisciplinarioApp.providencia.tipo">Tipo de Solicitud</span>
                                                </dt>
                                                <dd *ngIf="providencia.tipo">
                                                    <span jhiTranslate="{{'pdisciplinarioApp.TipoProvidencia.' + providencia.tipo}}">{{providencia.tipo}}</span>
                                                </dd>
                                                <dd *ngIf="!providencia.tipo">
                                                    <span style="color:red">DEBE ESPECIFICAR</span>
                                                </dd>
                                                <dt >
                                                    <span>Fiscal Asignado</span>
                                                </dt>
                                                <dd *ngIf="providencia.nombreFiscalAsignado">
                                                    <span>{{providencia.nombreFiscalAsignado}}</span>
                                                </dd>
                                                <dd *ngIf="!providencia.nombreFiscalAsignado">
                                                    <span style="color:red">DEBE ASIGNAR</span>
                                                </dd>
                                                <dt>
                                                    <span>Cantidad de archivos adjuntos</span>
                                                </dt>
                                                <dd *ngIf="providencia.totalAdjuntos">
                                                    <span>{{providencia.totalAdjuntos}}</span>
                                                </dd>
                                                <dd *ngIf="!providencia.totalAdjuntos">
                                                    <span style="color:red">SIN ADJUNTOS</span>
                                                </dd>
                                            </dl>
                                        </div>
                                    </div>
                            </div>
                                <br>
                                <div class="col-sm-12">

                                    <div class="row">
                                        <div class="col-sm-6">
                                            <dl class="dl-horizontal jh-entity-details">
                                                <h4>Estado De La Providencia</h4>
                                                <dt >
                                                    <span>Etapa</span>
                                                </dt>
                                                <dd >
                                                    <span>{{providencia.etapa.toString().split('_').join(' ')}}</span>
                                                </dd>
                                                <dt>
                                                    <span>Sub Etapa</span>
                                                </dt>
                                                <dd >
                                                    <span>{{providencia.subEtapa.toString().split('_').join(' ')}}</span>
                                                </dd>
                                                <dt>
                                                    <span >Accion </span>
                                                </dt>
                                                <dd >
                                                    <span>{{providencia.requisito.toString().split('_').join(' ')}}</span>
                                                </dd>
                                            </dl>
                                        </div>
                                    </div>
                                        <div class="col-sm-6">
                                            <dl class="dl-horizontal jh-entity-details">
                                                <dt  *ngIf="providencia.instrucciones && providencia.instrucciones.length > 0">
                                                    <span jhiTranslate="pdisciplinarioApp.providencia.instrucciones">Instrucciones</span>
                                                </dt>
                                                <dd *ngFor="let instruccion of providencia.instrucciones">
                                                    {{instruccion.split('_').join(' ')}}
                                                </dd>
                                            </dl>
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="row">
                                        <div class="col-12 d-flex justify-content-center">
                                            <dl class="dl-horizontal jh-entity-details">
                                                <dt >
                                                    <span>Comentario</span>
                                                </dt>
                                                <dd *ngIf="providencia.comentario">

                                                    <P style="width: 800px;" #textContent id="read-more" >

                                                        {{providencia.comentario}}


                                                    </P>

                                                    <div class="read-more-link">
                                                        <a readMore [readMore-length]="70" [readMore-element]="textContent">
                                                            <span class="less">menos<i class="fa fa-angle-right" aria-hidden="true"></i></span>
                                                            <span class="more">leer mas <i class="fa fa-angle-right" aria-hidden="true"></i></span>
                                                        </a>
                                                    </div>

                                                </dd>
                                                <dd *ngIf="!providencia.comentario">
                                                    <span style="color:red">SIN COMENTARIO</span>
                                                </dd>
                                            </dl>
                                        </div>
                                    </div>
                                    <hr>
                                </div>
                            </div>
                        </div>
                            <br>
                            <!--AQUI VIENEN LOS TABS-->
                            <div class="row">
                                <div class="col-12">
                                    <div class="tab-content">
                                        <ngb-tabset justify="fill">
                                            <ngb-tab title="Respuesta" *ngIf="actionsPermitted.watchTabRespuesta">
                                                <ng-template ngbTabContent>
                                                    <jhi-respuesta-update [providencia]="providencia" (resp)="getRespuesta($event)"></jhi-respuesta-update>
                                                </ng-template>
                                            </ngb-tab>
                                            <ngb-tab title="Bitácora de movimientos">
                                                <ng-template ngbTabContent>
                                                    <jhi-movimiento-providencia [providencia]="providencia"></jhi-movimiento-providencia>
                                                </ng-template>
                                            </ngb-tab>
                                            <ngb-tab title="Solicitudes Relacionadas">
                                                <ng-template ngbTabContent>
                                                    <jhi-providencia-relacionadas [providencia]="providencia"></jhi-providencia-relacionadas>
                                                </ng-template>
                                            </ngb-tab>
                                        </ngb-tabset>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
