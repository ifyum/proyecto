{"remainingRequest":"C:\\Users\\rbarrera\\Documents\\Proyectos\\ifyum\\app\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!C:\\Users\\rbarrera\\Documents\\Proyectos\\ifyum\\app\\node_modules\\ts-loader\\index.js??ref--9-3!C:\\Users\\rbarrera\\Documents\\Proyectos\\ifyum\\app\\node_modules\\angular-router-loader\\src\\index.js!C:\\Users\\rbarrera\\Documents\\Proyectos\\ifyum\\app\\node_modules\\tslint-loader\\index.js!C:\\Users\\rbarrera\\Documents\\Proyectos\\ifyum\\app\\src\\main\\webapp\\app\\admin\\user-management\\user-management-update.component.ts","dependencies":[{"path":"C:\\Users\\rbarrera\\Documents\\Proyectos\\ifyum\\app\\src\\main\\webapp\\app\\admin\\user-management\\user-management-update.component.ts","mtime":1572998498743},{"path":"C:\\Users\\rbarrera\\Documents\\Proyectos\\ifyum\\app\\node_modules\\angular2-template-loader\\index.js","mtime":1486570058000},{"path":"C:\\Users\\rbarrera\\Documents\\Proyectos\\ifyum\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1564750574678},{"path":"C:\\Users\\rbarrera\\Documents\\Proyectos\\ifyum\\app\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1564750573341},{"path":"C:\\Users\\rbarrera\\Documents\\Proyectos\\ifyum\\app\\node_modules\\ts-loader\\index.js","mtime":1519365772000},{"path":"C:\\Users\\rbarrera\\Documents\\Proyectos\\ifyum\\app\\node_modules\\angular-router-loader\\src\\index.js","mtime":1512749902000},{"path":"C:\\Users\\rbarrera\\Documents\\Proyectos\\ifyum\\app\\node_modules\\tslint-loader\\index.js","mtime":1519899048000}],"contextDependencies":[],"result":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar core_1 = require(\"@angular/core\");\r\nvar router_1 = require(\"@angular/router\");\r\nvar core_2 = require(\"app/core\");\r\nvar perfil_1 = require(\"app/entities/perfil\");\r\nvar grupo_1 = require(\"app/entities/grupo\");\r\nvar UserMgmtUpdateComponent = /** @class */ (function () {\r\n    function UserMgmtUpdateComponent(languageHelper, userService, route, perfilesService, grupoService, router) {\r\n        this.languageHelper = languageHelper;\r\n        this.userService = userService;\r\n        this.route = route;\r\n        this.perfilesService = perfilesService;\r\n        this.grupoService = grupoService;\r\n        this.router = router;\r\n        this.idPerfil = null;\r\n        this.idGrupo = null;\r\n    }\r\n    UserMgmtUpdateComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.isSaving = false;\r\n        this.route.data.subscribe(function (_a) {\r\n            var user = _a.user;\r\n            _this.user = user.body ? user.body : user;\r\n        });\r\n        this.authorities = [];\r\n        this.userService.authorities().subscribe(function (authorities) {\r\n            _this.authorities = authorities;\r\n        });\r\n        this.perfiles = [];\r\n        this.perfilesService.query().subscribe(function (perfiles) {\r\n            _this.perfiles = perfiles.body;\r\n        });\r\n        this.languageHelper.getAll().then(function (languages) {\r\n            _this.languages = languages;\r\n        });\r\n        this.grupoService.getAllAsList().subscribe(function (response) {\r\n            _this.grupos = response.body;\r\n        });\r\n    };\r\n    UserMgmtUpdateComponent.prototype.previousState = function () {\r\n        this.router.navigate(['/user-management']);\r\n    };\r\n    UserMgmtUpdateComponent.prototype.save = function () {\r\n        var _this = this;\r\n        this.isSaving = true;\r\n        this.user.perfil = this.perfiles\r\n            .filter(function (perfil) {\r\n            if (parseInt(_this.idPerfil, 10) === perfil.id) {\r\n                return perfil;\r\n            }\r\n        })\r\n            .pop();\r\n        this.user.grupo = this.grupos.filter(function (grupo) {\r\n            return grupo.id === parseInt(_this.idGrupo, 10);\r\n        }).pop();\r\n        if (this.doNotMatch == null) {\r\n            this.user.password = this.newPassword;\r\n            this.user.langKey = 'es';\r\n            if (this.user.id !== null) {\r\n                this.userService.update(this.user).subscribe(function (response) { return _this.onSaveSuccess(response); }, function () { return _this.onSaveError(); });\r\n            }\r\n            else {\r\n                this.userService.create(this.user).subscribe(function (response) { return _this.onSaveSuccess(response); }, function () { return _this.onSaveError(); });\r\n            }\r\n        }\r\n    };\r\n    UserMgmtUpdateComponent.prototype.onSaveSuccess = function (result) {\r\n        this.isSaving = false;\r\n        this.previousState();\r\n    };\r\n    UserMgmtUpdateComponent.prototype.onSaveError = function () {\r\n        this.isSaving = false;\r\n    };\r\n    UserMgmtUpdateComponent.prototype.setLogin = function () {\r\n        if (this.user.email !== null && typeof this.user.email !== 'undefined') {\r\n            this.user.login = this.user.email;\r\n        }\r\n    };\r\n    UserMgmtUpdateComponent.prototype.confirmMatch = function () {\r\n        if (this.newPassword !== this.confirmPassword) {\r\n            this.doNotMatch = 'ERROR';\r\n        }\r\n        else {\r\n            this.doNotMatch = null;\r\n        }\r\n    };\r\n    UserMgmtUpdateComponent = tslib_1.__decorate([\r\n        core_1.Component({\r\n            selector: 'jhi-user-mgmt-update',\r\n            templateUrl: './user-management-update.component.html'\r\n        }),\r\n        tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof core_2.JhiLanguageHelper !== \"undefined\" && core_2.JhiLanguageHelper) === \"function\" && _a || Object, typeof (_b = typeof core_2.UserService !== \"undefined\" && core_2.UserService) === \"function\" && _b || Object, typeof (_c = typeof router_1.ActivatedRoute !== \"undefined\" && router_1.ActivatedRoute) === \"function\" && _c || Object, typeof (_d = typeof perfil_1.PerfilService !== \"undefined\" && perfil_1.PerfilService) === \"function\" && _d || Object, typeof (_e = typeof grupo_1.GrupoService !== \"undefined\" && grupo_1.GrupoService) === \"function\" && _e || Object, typeof (_f = typeof router_1.Router !== \"undefined\" && router_1.Router) === \"function\" && _f || Object])\r\n    ], UserMgmtUpdateComponent);\r\n    return UserMgmtUpdateComponent;\r\n    var _a, _b, _c, _d, _e, _f;\r\n}());\r\nexports.UserMgmtUpdateComponent = UserMgmtUpdateComponent;\r\n",{"version":3,"file":"C:\\Users\\rbarrera\\Documents\\Proyectos\\ifyum\\app\\src\\main\\webapp\\app\\admin\\user-management\\user-management-update.component.ts","sourceRoot":"","sources":["C:\\Users\\rbarrera\\Documents\\Proyectos\\ifyum\\app\\node_modules\\angular-router-loader\\src\\index.js!C:\\Users\\rbarrera\\Documents\\Proyectos\\ifyum\\app\\node_modules\\tslint-loader\\index.js!C:\\Users\\rbarrera\\Documents\\Proyectos\\ifyum\\app\\src\\main\\webapp\\app\\admin\\user-management\\user-management-update.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { JhiLanguageHelper, User, UserService } from 'app/core';\r\nimport { IPerfil } from 'app/shared/model/perfil.model';\r\nimport { PerfilService } from 'app/entities/perfil';\r\nimport { GrupoService } from 'app/entities/grupo';\r\nimport {IGrupo} from '../../shared/model/grupo.model';\r\n\r\n@Component({\r\n    selector: 'jhi-user-mgmt-update',\r\n    templateUrl: './user-management-update.component.html'\r\n})\r\nexport class UserMgmtUpdateComponent implements OnInit {\r\n    user: User;\r\n    languages: any[];\r\n    authorities: any[];\r\n    isSaving: boolean;\r\n    perfiles: IPerfil[];\r\n    idPerfil: string = null;\r\n    doNotMatch: string;\r\n    newPassword: string;\r\n    confirmPassword: string;\r\n    grupos: IGrupo[];\r\n    idGrupo: string = null;\r\n\r\n    constructor(\r\n        private languageHelper: JhiLanguageHelper,\r\n        private userService: UserService,\r\n        private route: ActivatedRoute,\r\n        private perfilesService: PerfilService,\r\n        private grupoService: GrupoService,\r\n        private router: Router\r\n    ) {}\r\n\r\n    ngOnInit() {\r\n        this.isSaving = false;\r\n        this.route.data.subscribe(({ user }) => {\r\n            this.user = user.body ? user.body : user;\r\n        });\r\n        this.authorities = [];\r\n        this.userService.authorities().subscribe(authorities => {\r\n            this.authorities = authorities;\r\n        });\r\n\r\n        this.perfiles = [];\r\n        this.perfilesService.query().subscribe(perfiles => {\r\n            this.perfiles = perfiles.body;\r\n        });\r\n\r\n        this.languageHelper.getAll().then(languages => {\r\n            this.languages = languages;\r\n        });\r\n\r\n        this.grupoService.getAllAsList().subscribe(response => {\r\n            this.grupos = response.body;\r\n        });\r\n    }\r\n\r\n    previousState() {\r\n        this.router.navigate(['/user-management']);\r\n    }\r\n\r\n    save() {\r\n        this.isSaving = true;\r\n        this.user.perfil = this.perfiles\r\n            .filter(perfil => {\r\n                if (parseInt(this.idPerfil, 10) === perfil.id) {\r\n                    return perfil;\r\n                }\r\n            })\r\n            .pop();\r\n\r\n        this.user.grupo = this.grupos.filter(grupo => {\r\n            return grupo.id === parseInt(this.idGrupo, 10);\r\n        }).pop();\r\n\r\n        if (this.doNotMatch == null) {\r\n            this.user.password = this.newPassword;\r\n            this.user.langKey = 'es';\r\n\r\n            if (this.user.id !== null) {\r\n                this.userService.update(this.user).subscribe(response => this.onSaveSuccess(response), () => this.onSaveError());\r\n            } else {\r\n                this.userService.create(this.user).subscribe(response => this.onSaveSuccess(response), () => this.onSaveError());\r\n            }\r\n        }\r\n    }\r\n    private onSaveSuccess(result) {\r\n        this.isSaving = false;\r\n        this.previousState();\r\n    }\r\n\r\n    private onSaveError() {\r\n        this.isSaving = false;\r\n    }\r\n\r\n    setLogin() {\r\n        if (this.user.email !== null && typeof this.user.email !== 'undefined') {\r\n            this.user.login = this.user.email;\r\n        }\r\n    }\r\n\r\n    confirmMatch() {\r\n        if (this.newPassword !== this.confirmPassword) {\r\n            this.doNotMatch = 'ERROR';\r\n        } else {\r\n            this.doNotMatch = null;\r\n        }\r\n    }\r\n}\r\n"]}]}